#!/usr/bin/env zsh

if [ "$1" = "vedit" ]; then
  file="$XDG_CACHE_HOME/vim/vedit"
  wl-paste -n > $file
  alacritty -d 80 8 --class mypopup -e zsh -i -c "vim -c '$' $file"
  wl-copy "$(cat $file)"
  rm $file
elif [ "$1" = "run" ]; then
  alacritty -d 40 8 --class mypopup -e zsh -i -c "print -rl -- ${(ko)commands} | fzf --info hidden | (nohup ${SHELL:-"/bin/sh"}  &) >/dev/null 2>&1"
else
  alacritty
fi
