#!/bin/bash

vedit() {
  file="$XDG_CACHE_HOME/vim/vedit"
  wl-paste -n > $file
  alacritty \
    --option window.dimensions.columns=80 window.dimensions.lines=8 \
    --command zsh -i -c "uim-fep -u anthy-utf8 -s none -e $EDITOR -c '$' $file"
  wl-copy "$(cat $file)"
  rm $file
}

quteedit() {
  alacritty \
    --option window.dimensions.columns=80 window.dimensions.lines=8 \
    --command zsh -i -c "uim-fep -u anthy-utf8 -s none -e $EDITOR $2"
}

apps() {
  (echo idea && \
    rg --no-filename --only-matching -r '$2' '.*Exec=(.*/)?([^ ]+)' \
    $(rg Terminal=true /usr/share/applications --files-without-match) \
  ) | sort -u | fzf --info hidden | (nohup $SHELL &) > /dev/null 2>&1
}

run() {
  alacritty \
    --option window.dimensions.columns=40 window.dimensions.lines=8 \
    --command zsh -i -c "term apps"
}

main() {
  alacritty --command uim-fep -u anthy-utf8 -s none
}

"${1:-main}"
