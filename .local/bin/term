#!/bin/bash

main() {
  alacritty -e uim-fep -u anthy-utf8 -s none
}

run() {
  alacritty -o window.dimensions.columns=40 window.dimensions.lines=8 -e term apps
}

quteedit() {
  alacritty \
    -o window.dimensions.columns=40 window.dimensions.lines=1 \
    -e uim-fep -u anthy-utf8 -s none -e term edit $1
}

apps() {
  (echo idea && \
    rg --no-filename --only-matching -r '$2' '.*Exec=(.*/)?([^ ]+)' \
    $(rg Terminal=true /usr/share/applications --files-without-match) \
  ) | sort -u | fzf --info hidden | (nohup $SHELL &) > /dev/null 2>&1
}

edit() {
  rlwrap -S "> " -pBlue -P "$(cat $1)" -o cat > $1
}

"${1:-main}" "$2"
