#!/bin/sh

while IFS=: read ev wid; do
    echo $ev
    case $ev in
        16)
            if ! wattr o $wid; then
                WW=$(wattr w $wid)
                WH=$(wattr h $wid)
                ROOT=$(lsw -r)
                SW=$(wattr w $ROOT)
                SH=$(wattr h $ROOT)
                wtp $(((SW - WW)/2)) $(((SH - WH)/2)) $WW $WH $wid
            fi
            ;;
        18) wattr $(pfw) || wfw prev 2>/dev/null ;;
        4|7|19) [ wattr o $wid ] || wfw $wid ;;
    esac
done
