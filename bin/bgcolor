#!/bin/bash

r=64
g=64
b=64

function d() {
    x=$[$1 + $RANDOM % 3 - 1]
    x=$((x < 0 ? 0 : x))
    x=$((x > 128 ? 128 : x))
    echo $x
}

function h() {
    printf '%02x' "$1"
}

while true; do
    r=$(d $r)
    g=$(d $g)
    b=$(d $b)
    rbg="#$(h $r)$(h $g)$(h $b)"
    xsetroot -solid $rbg
    bspc config normal_border_color "$rbg"
    sleep 1
done
